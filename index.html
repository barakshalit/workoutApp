<!DOCTYPE html>
<html>
<head>
  <title>Workout Logger</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://www.gstatic.com/firebasejs/10.12.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.1/firebase-auth-compat.js"></script>
</head>
<body>

<h2>Workout Logger</h2>

<!-- Login UI -->
<div id="loginDiv">
  <input type="email" id="email" placeholder="Email"><br>
  <input type="password" id="password" placeholder="Password"><br>
  <button onclick="login()">Login</button>
  <button onclick="signup()">Sign Up</button>
</div>

<!-- Workout UI -->
<div id="workoutDiv" style="display:none;">
  <form id="exerciseForm">
    <label>Exercise:</label>
    <select id="exercise">
      <option value="Push Up">Push Up</option>
      <option value="Squat">Squat</option>
      <option value="Deadlift">Deadlift</option>
    </select><br>

    <label>Weight (kg):</label>
    <input type="number" id="weight"><br>

    <label>Repetitions:</label>
    <input type="number" id="reps"><br>

    <button type="button" onclick="addEntry()">Add</button>
    <button type="button" onclick="finishWorkout()">Finish Workout</button>
  </form>

  <h3>Current Workout:</h3>
  <table border="1" id="workoutTable">
    <tr><th>Exercise</th><th>Weight</th><th>Reps</th></tr>
  </table>

  <button onclick="logout()">Logout</button>
</div>

<script>
  // ‚úÖ Replace with your Firebase config:
  const firebaseConfig = {
  apiKey: "AIzaSyAHQL4_sn018jO8nq4FBmLV9yotT_DcFHg",
    authDomain: "workoutapp-30f73.firebaseapp.com",
    projectId: "workoutapp-30f73",
    storageBucket: "workoutapp-30f73.firebasestorage.app",
    messagingSenderId: "528956485565",
    appId: "1:528956485565:web:13ab08c4dcd2d15d906cd4"
  };

  firebase.initializeApp(firebaseConfig);

  const auth = firebase.auth();

  auth.onAuthStateChanged(user => {
    if (user) {
      document.getElementById('loginDiv').style.display = 'none';
      document.getElementById('workoutDiv').style.display = 'block';
    } else {
      document.getElementById('loginDiv').style.display = 'block';
      document.getElementById('workoutDiv').style.display = 'none';
    }
  });

  function login() {
    const email = document.getElementById("email").value;
    const pass = document.getElementById("password").value;
    auth.signInWithEmailAndPassword(email, pass)
      .catch(err => alert(err.message));
  }

  function signup() {
    const email = document.getElementById("email").value;
    const pass = document.getElementById("password").value;
    auth.createUserWithEmailAndPassword(email, pass)
      .catch(err => alert(err.message));
  }

  function logout() {
    auth.signOut();
  }

  // üèãÔ∏è‚Äç‚ôÇÔ∏è Workout logic
  const workoutEntries = [];

  function addEntry() {
    const exercise = document.getElementById('exercise').value;
    const weight = document.getElementById('weight').value;
    const reps = document.getElementById('reps').value;

    if (!exercise || !weight || !reps) return alert("Fill all fields");

    workoutEntries.push({ exercise, weight, reps });

    const row = document.createElement('tr');
    row.innerHTML = `<td>${exercise}</td><td>${weight}</td><td>${reps}</td>`;
    document.getElementById('workoutTable').appendChild(row);
  }

  function finishWorkout() {
    fetch("https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ entries: workoutEntries })
    })
    .then(response => response.text())
    .then(() => {
      alert("Workout saved!");
      location.reload();
    })
    .catch(err => alert("Error saving workout: " + err));
  }
</script>
</body>
</html>
